---
import defaultOgImage from "@/assets/og.jpg";
import Footer from "@/components/Footer.astro";
import Header from "@/components/Header.astro";
import HtmlHead from "@/components/HtmlHead.astro";
import TwSizeIndicator from "@/components/TwSizeIndicator.astro";
import config from "@/config";

interface Props {
  title?: string;
  description?: string;
  og?: string;
  noindex?: boolean;
}

// distructure frontmatters
const {
  title = config.site.title,
  description = config.metadata.meta_description,
  og = defaultOgImage.src,
  noindex = false,
} = Astro.props;

const fullOgUrl = new URL(og, Astro.url).href;
---

<!doctype html>
<html lang="en">
  <HtmlHead
    title={title}
    description={description}
    image={fullOgUrl}
    noindex={noindex}
  />

  <body>
    <TwSizeIndicator />
    <Header />
    <main>
      <slot />
    </main>
    <Footer />
  </body>
</html>
